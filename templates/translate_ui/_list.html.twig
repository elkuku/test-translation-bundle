
{# TODO: create a beautiful translate list view #}

{% set index = 0 %}

{% for item in items %}
    {% for field, type in fields %}
        <div>
            <b>{{ field }}</b> ({{ defaultLocale }}) :
            {% if 'string' == type %}
                {{ attribute(item, field) }}
            {% elseif 'markdown' == type %}
                <br>
                {# TODO expand this with JS #}
                {{ attribute(item, field)|u.truncate(100, '...', false) }}
            {% else %}
                UNKNOWN TYPE: {{ type }}
            {% endif %}
        </div>

        {% for locale in app.enabled_locales %}
            {% if locale != defaultLocale %}
                <button
                    {{ stimulus_action(
                        'translate-ui', 'loadTranslation', 'click',
                        {
                            'objectName': objectName,
                            'field': field,
                            'id': attribute(item, identifierName),
                            'locale': locale,
                            'index': index
                        }
                    ) }}
                    class="btn btn-info btn-sm"
                >
                    {{ locale }}
                </button>
            {% endif %}
        {% endfor %}

        <div data-translate-ui-target="itemContainer"></div>
        <div data-translate-ui-target="statusContainer"></div>

        {% set index = index + 1 %}

    {% endfor %}

    <hr>

{% endfor %}
